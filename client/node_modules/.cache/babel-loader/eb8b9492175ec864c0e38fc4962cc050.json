{"ast":null,"code":"var _jsxFileName = \"/Users/davidswiatkiewiez/Documents/Programmation/movie-catalog/client/src/App.js\";\nimport React, { Component } from \"react\";\nimport fetchApi from \"./components/api\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport \"./App.css\";\nimport SearchPage from \"./components/SearchPage\";\nimport DetailsPage from \"./components/DetailsPage\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleMovies = movies => {\n      this.setState({\n        movies: movies\n      });\n    };\n\n    this.state = {\n      movies: [],\n      //result of movies search\n      genres: [] // list of genres\n\n    };\n  } //get all genres listed on API once\n\n\n  componentDidMount() {\n    fetchApi.getGenres().then(genres => {\n      let genresList = {};\n      genres.forEach(genre => {\n        genresList.genre.id = genre.name;\n      });\n      console.log(\"genrelist\", genresList);\n      this.setState({\n        genres: genres\n      });\n    }, error => {\n      console.log(error);\n    });\n  } // set movies state with API search\n\n\n  render() {\n    const {\n      movies,\n      genres\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(SearchPage, {\n      movies: movies,\n      handleMovies: this.handleMovies,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/:movieTitle/:id\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(DetailsPage, {\n      movies: movies,\n      genres: genres,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/davidswiatkiewiez/Documents/Programmation/movie-catalog/client/src/App.js"],"names":["React","Component","fetchApi","BrowserRouter","Router","Switch","Route","SearchPage","DetailsPage","App","constructor","props","handleMovies","movies","setState","state","genres","componentDidMount","getGenres","then","genresList","forEach","genre","id","name","console","log","error","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,MAAlC,EAA0CC,KAA1C,QAAuD,kBAAvD;AACA,OAAO,WAAP;AAEA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;;AAEA,MAAMC,GAAN,SAAkBR,SAAlB,CAA4B;AAC1BS,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SA0BnBC,YA1BmB,GA0BHC,MAAD,IAAY;AACzB,WAAKC,QAAL,CAAc;AAAED,QAAAA,MAAM,EAAEA;AAAV,OAAd;AACD,KA5BkB;;AAEjB,SAAKE,KAAL,GAAa;AACXF,MAAAA,MAAM,EAAE,EADG;AACC;AACZG,MAAAA,MAAM,EAAE,EAFG,CAEC;;AAFD,KAAb;AAID,GAPyB,CAS1B;;;AACAC,EAAAA,iBAAiB,GAAG;AAClBf,IAAAA,QAAQ,CAACgB,SAAT,GAAqBC,IAArB,CACGH,MAAD,IAAY;AACV,UAAII,UAAU,GAAG,EAAjB;AACAJ,MAAAA,MAAM,CAACK,OAAP,CAAeC,KAAK,IAAI;AACtBF,QAAAA,UAAU,CAACE,KAAX,CAAiBC,EAAjB,GAAsBD,KAAK,CAACE,IAA5B;AACD,OAFD;AAGAC,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBN,UAAzB;AACA,WAAKN,QAAL,CAAc;AAAEE,QAAAA,MAAM,EAAEA;AAAV,OAAd;AACD,KARH,EASGW,KAAD,IAAW;AACTF,MAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACD,KAXH;AAaD,GAxByB,CA0B1B;;;AAKAC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEf,MAAAA,MAAF;AAAUG,MAAAA;AAAV,QAAqB,KAAKD,KAAhC;AAEA,wBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,GAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,UAAD;AAAY,MAAA,MAAM,EAAEF,MAApB;AAA4B,MAAA,YAAY,EAAE,KAAKD,YAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,eAKE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,kBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,WAAD;AAAa,MAAA,MAAM,EAAEC,MAArB;AAA6B,MAAA,MAAM,EAAEG,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CALF,CADF,CADF,CADF;AAeD;;AAjDyB;;AAoD5B,eAAeP,GAAf","sourcesContent":["import React, { Component } from \"react\";\nimport fetchApi from \"./components/api\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport \"./App.css\";\n\nimport SearchPage from \"./components/SearchPage\";\nimport DetailsPage from \"./components/DetailsPage\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movies: [], //result of movies search\n      genres: [], // list of genres\n    };\n  }\n\n  //get all genres listed on API once\n  componentDidMount() {\n    fetchApi.getGenres().then(\n      (genres) => {\n        let genresList = {}\n        genres.forEach(genre => {\n          genresList.genre.id = genre.name\n        })\n        console.log(\"genrelist\", genresList)\n        this.setState({ genres: genres });\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  }\n\n  // set movies state with API search\n  handleMovies = (movies) => {\n    this.setState({ movies: movies });\n  };\n\n  render() {\n    const { movies, genres } = this.state;\n\n    return (\n      <div className=\"container\">\n        <Router>\n          <Switch>\n            <Route exact path=\"/\">\n              <SearchPage movies={movies} handleMovies={this.handleMovies} />\n            </Route>\n\n            <Route path=\"/:movieTitle/:id\">\n              <DetailsPage movies={movies} genres={genres} />\n            </Route>\n          </Switch>\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}